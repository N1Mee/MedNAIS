# ====================================
# MedNAIS SOP Marketplace - Environment Variables
# ====================================
# Copy this file to .env and fill in your actual values
# For local development, you can use the default values where provided

# ====================================
# APPLICATION
# ====================================
NODE_ENV=development
# For production: NODE_ENV=production

# Next.js URL - change in production to your actual domain
NEXTAUTH_URL=http://localhost:3000
# For production: NEXTAUTH_URL=https://yourdomain.com

# Python executable path (used by backend scripts)
PYTHON_PATH=/usr/bin/python3

# ====================================
# DATABASE
# ====================================
# PostgreSQL connection string
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE?schema=SCHEMA
DATABASE_URL="postgresql://postgres:postgres@localhost:5432/mednais_sops?schema=public"

# For production with external PostgreSQL:
# DATABASE_URL="postgresql://user:password@your-db-host:5432/mednais_sops?schema=public"

# ====================================
# JWT & AUTHENTICATION
# ====================================
# CRITICAL: Change this to a strong random string in production!
# Generate with: openssl rand -base64 32
JWT_SECRET="your-secret-key-change-in-production"

# CRITICAL: This must be set for production
# Used for NextAuth.js session encryption
NEXTAUTH_SECRET="your-nextauth-secret-change-in-production"

# ====================================
# FIREBASE ADMIN (for authentication)
# ====================================
# Firebase service account JSON as a string
# Get from: Firebase Console > Project Settings > Service Accounts
FIREBASE_SERVICE_ACCOUNT_KEY='{"type":"service_account","project_id":"your-project-id","private_key_id":"your-key-id","private_key":"-----BEGIN PRIVATE KEY-----\nYOUR_KEY\n-----END PRIVATE KEY-----\n","client_email":"firebase-adminsdk@your-project.iam.gserviceaccount.com","client_id":"your-client-id","auth_uri":"https://accounts.google.com/o/oauth2/auth","token_uri":"https://oauth2.googleapis.com/token","auth_provider_x509_cert_url":"https://www.googleapis.com/oauth2/v1/certs","client_x509_cert_url":"https://www.googleapis.com/robot/v1/metadata/x509/firebase-adminsdk"}'

# Public Firebase project ID (exposed to frontend)
NEXT_PUBLIC_FIREBASE_PROJECT_ID="your-firebase-project-id"

# ====================================
# AWS S3 (File Storage)
# ====================================
# For local development with LocalStack:
AWS_S3_ENDPOINT="http://localhost:4566"
AWS_S3_REGION="us-east-1"
AWS_S3_ACCESS_KEY_ID="test"
AWS_S3_SECRET_ACCESS_KEY="test"
AWS_S3_BUCKET_NAME="mednais-uploads"
AWS_S3_FOLDER_PREFIX=""

# For production with real AWS S3:
# AWS_S3_ENDPOINT=""  # Leave empty for real AWS
# AWS_S3_REGION="us-east-1"  # Your AWS region
# AWS_S3_ACCESS_KEY_ID="your-aws-access-key"
# AWS_S3_SECRET_ACCESS_KEY="your-aws-secret-key"
# AWS_S3_BUCKET_NAME="your-bucket-name"
# AWS_S3_FOLDER_PREFIX="uploads/"  # Optional prefix

# ====================================
# STRIPE PAYMENTS
# ====================================
# Get from: https://dashboard.stripe.com/apikeys
# Use test keys for development (sk_test_...)
STRIPE_API_KEY="sk_test_your_stripe_secret_key"

# Public key (exposed to frontend)
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY="pk_test_your_stripe_publishable_key"

# Stripe webhook secret (for webhook signature verification)
# Get from: Stripe Dashboard > Developers > Webhooks
STRIPE_WEBHOOK_SECRET="whsec_your_webhook_secret"

# ====================================
# EMAIL (SMTP)
# ====================================
# SMTP server configuration for sending emails
SMTP_HOST="smtp.gmail.com"
SMTP_PORT="587"
SMTP_USER="your-email@gmail.com"
# For Gmail: use App Password, not your regular password
# Generate at: https://myaccount.google.com/apppasswords
SMTP_PASSWORD="your-app-password"
FROM_EMAIL="noreply@yourdomain.com"

# ====================================
# OAUTH PROVIDERS
# ====================================
# Google OAuth
# Get from: https://console.cloud.google.com/apis/credentials
GOOGLE_CLIENT_ID="your-google-client-id.apps.googleusercontent.com"
GOOGLE_CLIENT_SECRET="your-google-client-secret"

# Apple Sign In
# Get from: https://developer.apple.com/account/resources/identifiers/list/serviceId
APPLE_CLIENT_ID="your-apple-client-id"
APPLE_TEAM_ID="your-apple-team-id"
APPLE_KEY_ID="your-apple-key-id"
# Apple private key (p8 file content as string)
APPLE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nYOUR_KEY\n-----END PRIVATE KEY-----"

# ====================================
# OPENAI API (for AI-powered SOP generation)
# ====================================
# Get from: https://platform.openai.com/api-keys
OPENAI_API_KEY="sk-your-openai-api-key"

# ====================================
# QDRANT VECTOR DATABASE (for semantic search)
# ====================================
# For local development with Docker:
QDRANT_URL="http://localhost:6333"
QDRANT_API_KEY=""  # Leave empty for local development

# For production with Qdrant Cloud:
# QDRANT_URL="https://your-cluster.qdrant.io"
# QDRANT_API_KEY="your-qdrant-api-key"

# ====================================
# FRONTEND PUBLIC VARIABLES
# ====================================
# These are exposed to the browser (must start with NEXT_PUBLIC_)
NEXT_PUBLIC_APP_NAME="MedNAIS SOP Marketplace"
NEXT_PUBLIC_APP_URL="http://localhost:3000"

# For production:
# NEXT_PUBLIC_APP_URL="https://yourdomain.com"

# ====================================
# OPTIONAL: DEVELOPMENT/DEBUG
# ====================================
# Enable debug logging (optional)
DEBUG=false

# Prisma logging level (optional)
# PRISMA_LOG_LEVEL=info

# ====================================
# NOTES:
# ====================================
# 1. NEVER commit the actual .env file to git!
# 2. Always use strong, random secrets in production
# 3. Rotate secrets regularly for security
# 4. Use environment-specific values (dev/staging/prod)
# 5. For Docker deployment, pass these as environment variables or use .env files
# 6. Test your configuration with: npm run dev
